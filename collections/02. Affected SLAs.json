{
  "info": {
    "_postman_id": "3e027edd-ddb8-4783-ade9-12f929af2422",
    "name": "02. Affected SLAs",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "updatedAt": "2025-07-30T09:11:01.000Z",
    "createdAt": "2025-06-25T08:24:42.000Z",
    "lastUpdatedBy": "32335283",
    "uid": "32335283-3e027edd-ddb8-4783-ade9-12f929af2422"
  },
  "item": [
    {
      "name": "1.1 get affected_slas :dc",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "b55b007f-9ec5-4f0a-a9f2-bf4ac412f11f",
            "exec": [
              "let jsonData = pm.response.json();\r",
              "let item = jsonData[0];\r",
              "\r",
              "console.log(\"Ответ (JSON):\\n\" + JSON.stringify(item, null, 2));\r",
              "\r",
              "pm.test(\"Проверка структуры и типов Affected SLA\", () => {\r",
              "    try {\r",
              "        pm.expect(item).to.be.an(\"object\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item).to.have.property(\"accountability\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"actual_resolution_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"actual_resolution_duration\").that.is.a(\"number\");\r",
              "        // pm.expect(item).to.have.property(\"actual_response_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"actual_response_duration\").that.is.a(\"number\");\r",
              "        // pm.expect(item).to.have.property(\"created_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"desired_completion_at\").that.satisfy(v => v === null || typeof v === \"string\");\r",
              "        // pm.expect(item).to.have.property(\"downtime_duration\").that.satisfy(v => v === null || typeof v === \"number\");\r",
              "        // pm.expect(item).to.have.property(\"downtime_end_at\").that.satisfy(v => v === null || typeof v === \"string\");\r",
              "        // pm.expect(item).to.have.property(\"downtime_start_at\").that.satisfy(v => v === null || typeof v === \"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"first_line_team\").that.is.an(\"object\");\r",
              "        // pm.expect(item.first_line_team).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item.first_line_team).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"impact\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"maximum_resolution_duration\").that.is.a(\"number\");\r",
              "        // pm.expect(item).to.have.property(\"maximum_resolution_duration_in_days\").that.satisfy(v => v === null || typeof v === \"number\");\r",
              "        // pm.expect(item).to.have.property(\"maximum_response_duration\").that.is.a(\"number\");\r",
              "        // pm.expect(item).to.have.property(\"maximum_response_duration_in_days\").that.satisfy(v => v === null || typeof v === \"number\");\r",
              "        // pm.expect(item).to.have.property(\"next_target_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"provider_not_accountable\").that.is.a(\"boolean\");\r",
              "        // pm.expect(item).to.have.property(\"provider_was_not_accountable\").that.is.a(\"boolean\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"request\").that.is.an(\"object\");\r",
              "        // pm.expect(item.request).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item.request).to.have.property(\"subject\").that.is.a(\"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"resolution_target_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"response_target_at\").that.is.a(\"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"service_instance\").that.is.an(\"object\");\r",
              "        // pm.expect(item.service_instance).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item.service_instance).to.have.property(\"name\").that.is.a(\"string\");\r",
              "        // pm.expect(item.service_instance).to.have.property(\"localized_name\").that.is.a(\"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"sla\").that.is.an(\"object\");\r",
              "        // pm.expect(item.sla).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item.sla).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"standard_service_request\").to.satisfy(v => v === null);\r",
              "        // pm.expect(item).to.have.property(\"started_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"stopped_clock_at\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"stopped_clock_duration\").that.is.a(\"number\");\r",
              "        // pm.expect(item).to.have.property(\"supplier\").to.satisfy(v => v === null);\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"support_hours\").that.is.an(\"object\");\r",
              "        // pm.expect(item.support_hours).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item.support_hours).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"support_team\").that.is.an(\"object\");\r",
              "        // pm.expect(item.support_team).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        // pm.expect(item.support_team).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        // pm.expect(item).to.have.property(\"time_zone\").that.is.a(\"string\");\r",
              "        // pm.expect(item).to.have.property(\"updated_at\").that.is.a(\"string\");\r",
              "\r",
              "    } catch (e) {\r",
              "        console.error(\"Ошибка валидации:\\n\" + e.message);\r",
              "        console.log(\"Данные, вызвавшие ошибку:\\n\" + JSON.stringify(item, null, 2));\r",
              "        throw e;\r",
              "    }\r",
              "});\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});"
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "2db0d05c-a44c-4798-a277-dbc3deb33146",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "0eb1e230-47fe-45c9-9ef9-69ea319754cc",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "X-4me-account",
            "value": "dc",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{url}}affected_slas",
          "host": [
            "{{url}}affected_slas"
          ]
        }
      },
      "response": [],
      "uid": "32335283-0eb1e230-47fe-45c9-9ef9-69ea319754cc"
    },
    {
      "name": "1.2 get affected_slas/id :dc",
      "event": [
        {
          "listen": "test",
          "script": {
            "id": "b55b007f-9ec5-4f0a-a9f2-bf4ac412f11f",
            "exec": [
              "let jsonData = pm.response.json();\r",
              "let item = jsonData;\r",
              "\r",
              "console.log(\"Ответ (JSON):\\n\" + JSON.stringify(item, null, 2));\r",
              "\r",
              "pm.test(\"Проверка структуры объекта Affected SLA\", function () {\r",
              "    try {\r",
              "        pm.expect(item).to.be.an(\"object\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item).to.have.property(\"accountability\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"actual_resolution_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"actual_resolution_duration\").that.is.a(\"number\");\r",
              "        pm.expect(item).to.have.property(\"actual_response_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"actual_response_duration\").that.is.a(\"number\");\r",
              "        pm.expect(item).to.have.property(\"created_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"desired_completion_at\").that.satisfy(v => v === null || typeof v === \"string\");\r",
              "        pm.expect(item).to.have.property(\"downtime_duration\").that.satisfy(v => v === null || typeof v === \"number\");\r",
              "        pm.expect(item).to.have.property(\"downtime_end_at\").that.satisfy(v => v === null || typeof v === \"string\");\r",
              "        pm.expect(item).to.have.property(\"downtime_start_at\").that.satisfy(v => v === null || typeof v === \"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"first_line_team\").that.is.an(\"object\");\r",
              "        pm.expect(item.first_line_team).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item.first_line_team).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"impact\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"maximum_resolution_duration\").that.is.a(\"number\");\r",
              "        pm.expect(item).to.have.property(\"maximum_resolution_duration_in_days\").that.satisfy(v => v === null || typeof v === \"number\");\r",
              "        pm.expect(item).to.have.property(\"maximum_response_duration\").that.is.a(\"number\");\r",
              "        pm.expect(item).to.have.property(\"maximum_response_duration_in_days\").that.satisfy(v => v === null || typeof v === \"number\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"next_target_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"provider_not_accountable\").that.is.a(\"boolean\");\r",
              "        pm.expect(item).to.have.property(\"provider_was_not_accountable\").that.is.a(\"boolean\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"request\").that.is.an(\"object\");\r",
              "        pm.expect(item.request).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item.request).to.have.property(\"subject\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"resolution_target_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"response_target_at\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"service_instance\").that.is.an(\"object\");\r",
              "        pm.expect(item.service_instance).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item.service_instance).to.have.property(\"name\").that.is.a(\"string\");\r",
              "        pm.expect(item.service_instance).to.have.property(\"localized_name\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"sla\").that.is.an(\"object\");\r",
              "        pm.expect(item.sla).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item.sla).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"standard_service_request\").that.is.null;\r",
              "        pm.expect(item).to.have.property(\"started_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"stopped_clock_at\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"stopped_clock_duration\").that.is.a(\"number\");\r",
              "        pm.expect(item).to.have.property(\"supplier\").that.is.null;\r",
              "\r",
              "        pm.expect(item).to.have.property(\"support_hours\").that.is.an(\"object\");\r",
              "        pm.expect(item.support_hours).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item.support_hours).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"support_team\").that.is.an(\"object\");\r",
              "        pm.expect(item.support_team).to.have.property(\"id\").that.is.a(\"number\");\r",
              "        pm.expect(item.support_team).to.have.property(\"name\").that.is.a(\"string\");\r",
              "\r",
              "        pm.expect(item).to.have.property(\"time_zone\").that.is.a(\"string\");\r",
              "        pm.expect(item).to.have.property(\"updated_at\").that.is.a(\"string\");\r",
              "\r",
              "    } catch (e) {\r",
              "        console.error(\"Ошибка валидации:\\n\" + e.message);\r",
              "        console.log(\"Данные, вызвавшие ошибку:\\n\" + JSON.stringify(item, null, 2));\r",
              "        throw e;\r",
              "    }\r",
              "});\r",
              "\r",
              "pm.test(\"Status code is 200\", function () {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "id": "39db81f7-7cb6-4cdd-be4c-a39d086fa919",
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {}
          }
        }
      ],
      "id": "4cb143f9-3e15-4c1d-b7ab-7eee408e8e88",
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "X-4me-account",
            "value": "dc",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{url}}affected_slas/1415",
          "host": [
            "{{url}}affected_slas"
          ],
          "path": [
            "1415"
          ]
        }
      },
      "response": [],
      "uid": "32335283-4cb143f9-3e15-4c1d-b7ab-7eee408e8e88"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "id": "30bd85ae-4e91-46e2-aa05-8d51e3d760ff",
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "id": "7f5af277-4f69-4249-b102-aaeae40dd1e1",
        "type": "text/javascript",
        "packages": {},
        "exec": [
          ""
        ]
      }
    }
  ]
}